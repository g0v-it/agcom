<!DOCTYPE html>
<html lang="en" style="height: 100%">

<head>
    <meta charset="utf-8">
</head>

<body style="height: 100%; margin: 0">


    <div id="container" style="height: 100%">
        <div id="volume" style="height: 100%"></div>
        <div id='radar' style="height: 100%"></div>
        <div id='presenza_movimenti' style="height: 100%"></div>
        <div id='interventi_solo_politica' style="height: 100%"></div>
        <div id='argomenti_movimenti' style="height: 100%"></div>
        <div id="logo">
            <img src="https://www.agcom.it/documents/10179/4502194/Logo+Creative+common/2e1fe5a2-4324-4965-b8af-76403bb42b15?t=1618583317352" width="250px" />
            <br /><br />
        </div>
    </div>

    <script type="text/javascript" src="js/vendor/jquery.js"></script>
    <script type="text/javascript" src="js/vendor/echarts.min.js"></script>
    <script type="text/javascript" src="js/vendor/dataTool.min.js">
    </script>
    <script type="text/javascript" src="js/vendor/echarts-gl.min.js"></script>
    <script type="text/javascript" src="js/vendor/ecStat.min.js">
    </script>
    <!-- import walden theme -->
    <script src="js/walden.js"></script>
    <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
    <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/extension/bmap.min.js"></script>
  -->

    <script type="text/javascript" src="js/volume_notizie.js"></script>
    <script type="text/javascript" src="js/radar_argomenti.js"></script>
    <script type="text/javascript" src="js/presenza_movimenti.js"></script>
    <script type="text/javascript" src="js/interventi_politica.js"></script>>



    <script type="text/javascript">
        var dom = document.getElementById('argomenti_movimenti')
        var myChartArgomentiSoggetti = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var optionrgomentiSoggetti;

        myChartArgomentiSoggetti.showLoading();
        $.get('/data/argomenti_movimenti.json', function(argomentiMovimentiData) {
            myChartArgomentiSoggetti.hideLoading();
            argomentiMovimentiData.data.forEach(function(node) {
                node.label = {
                    show: node.symbolSize > 1
                };
            });
            optionrgomentiSoggetti = {
                "legend": [{
                    "data": argomentiMovimentiData.categories.map(function(a) {
                        return a.name;
                    })
                }],
                "animationDurationUpdate": 1500,
                "animationEasingUpdate": 'quinticInOut',
                series: {
                    emphasis: {
                        focus: 'adjacency'
                    },
                    /*
                    "type": "sankey",
                    "layout": 'none',
                    */
                    "type": 'graph',
                    "layout": 'circular',
                    "circular": {
                        "rotateLabel": true
                    },
                    "data": argomentiMovimentiData.data,
                    "links": argomentiMovimentiData.links,
                    /*
                    "label": {
                        //"position": 'top'
                    },
                    "lineStyle": {
                        "color": 'source',
                        "curveness": 0.5
                    },
                    */
                    "label": {
                        "position": 'right',
                        "formatter": '{b}'
                    },
                    "lineStyle": {
                        "color": 'target',
                        "curveness": 0.3,
                        "opacity": 0.5
                    },
                    "categories": argomentiMovimentiData.categories,
                    "roam": true,
                }
            };


            if (optionrgomentiSoggetti && typeof optionrgomentiSoggetti === 'object') {
                myChartArgomentiSoggetti.setOption(optionrgomentiSoggetti);
            }
        });
        window.addEventListener('resize', myChartPresenzaMovimenti.resize);
    </script>
</body>

</html>